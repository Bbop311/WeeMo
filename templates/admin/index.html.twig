{% extends 'base.html.twig' %}

{% block title %}Hello AdminController!{% endblock %}


{% block body %}
<style>
	.example-wrapper {
		margin: 1em auto;
		max-width: 800px;
		width: 95%;
		font: 18px / 1.5 sans-serif;
	}

	.example-wrapper code {
		background: #F5F5F5;
		padding: 2px 6px;
	}

	.annonces {
		display: flex;
		flex-wrap: wrap;
		width: 100%;
		gap: 1rem;
	}
</style>


<h1 class="my-5">Annonces actuelles</h1>


<div class="container">
	<div class="row g-3">
		{% for listing in listings %}
		<div class="col-4">
			<div class="card h-100">
				<div class="card-body">
					<h5>Annonce nÂ°{{listing.id }}</h5>

					<h5>Titre : {{listing.listingTitle }}</h5>

					{% if listing.property.Images is empty %}
					<img src="{{asset('images/imglisting1.jpeg')}}" alt="image" class="image d-block w-100">
					{% else %}
					<img src="{{asset(random(listing.property.Images).ImgUrl)}}" alt="image"
						class="image d-block w-100">
					{% endif %}


					<h5>Description :</h5>

					<p class="card-text">{{ listing.listingDescription }}</p>
					<p class="card-text">Status :{{ listing.Status }}</p>


					<a href="{{ path('listing_validation', {listing_id : listing.id})}}" class="btn btn-primary">Valider
						une annonce</a>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
</div>



{% endblock %}